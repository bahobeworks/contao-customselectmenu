var CustomSelectMenu=new Class({initialize:function(e,t){var n=this;this.wrapper=document.id(e);this.selectContainer=this.wrapper.getElement(".tl_customselect_select");this.inputContainer=this.wrapper.getElement(".tl_customselect_input");this.multiColumnWizard=this.wrapper.getParent(".multicolumnwizard");if(this.multiColumnWizard!=null&&(this.selectContainer==null||this.inputContainer==null)){var r,i,s;r=this.wrapper.getParent("tr").rowIndex;if(r>1){i=this.wrapper.getParent("td").cellIndex;s=this.multiColumnWizard.rows[r-1].cells[i].getElement("."+this.wrapper.get("class")).get("id");s=s.replace("ctrl_","");if(this.selectContainer==null){this.selectContainer=window["CSM"+s].selectContainer.clone()}if(this.inputContainer==null){this.inputContainer=window["CSM"+s].inputContainer.clone()}}}this.select=this.selectContainer.getElement("select");this.selectOptions=this.selectContainer.getElements("option");this.input=this.inputContainer.getElement("input");this.reset=this.inputContainer.getElement(".tl_customselect_reset");if(this.hasOption(t)){this.showSelect()}else{this.showInput();this.input.set("value",t)}this.select.addEvent("change",function(){if(this.options.length===this.selectedIndex+1){n.showInput()}});this.reset.addEvent("click",function(e){e.preventDefault();n.showSelect();n.select.options[0].selected=true})},hasOption:function(e){return this.selectOptions.some(function(t){return t.get("value")===e})},showSelect:function(){this.show(this.selectContainer,this.inputContainer)},showInput:function(){this.show(this.inputContainer,this.selectContainer);this.input.focus()},show:function(e,t){if(t.getParent()){t=t.dispose()}if(!e.getParent()){e.inject(this.wrapper)}}})
